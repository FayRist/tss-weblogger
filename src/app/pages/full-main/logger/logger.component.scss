.mat-toolbar {
    background: #212529;
    color: #FFFFFF;
}

/* ซ่อนคลื่น overlay เมื่อปิด select (ตามที่โค้ดจัดการ class) */
.hidden-overlay { display: none !important; }

/* ปรับระยะ/ไอคอนตามชอบ */
button[mat-raised-button] {
  display: inline-flex;
  align-items: center;
  gap: .25rem;
  text-transform: none;
}

/* 1) ซ่อน trigger + ลูกศร ของ mat-select ที่วางอยู่ในปุ่ม */
.chart-filter-btn .mat-mdc-select-trigger,
.chart-filter-btn .mat-mdc-select-arrow {
  display: none !important;
}

/* 2) ทำให้ mat-select ไม่กินพื้นที่ในปุ่ม (ยังเรียก open() ได้ตามปกติ) */
.chart-filter-btn .mat-mdc-select {
  position: absolute !important;
  width: 0 !important;
  height: 0 !important;
  opacity: 0 !important;
  overflow: hidden !important;
}

/* (จากก่อนหน้า) คุมความกว้างแผงเป็น 180px */
.chart-filter-overlay-180 {
  width: 180px !important;
  min-width: 180px !important;
}
.chart-filter-panel {
  min-width: 180px !important;
}

/* ป้ายบนปุ่มให้ย่อ ... เมื่อยาว */
.chart-filter-btn {
  display: inline-flex;
  align-items: center;
  gap: .5rem;
  text-transform: none;
}
.chart-filter-btn .btn-label {
  max-width: 160px;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}
/* พื้นหลังทั้งหน้าของคอมโพเนนต์ */
:host {
  display: block;
  background: #101414; /* page bg */
  color: #FFFFFF;
}

/* การ์ด Bootstrap */
.card {
  background: #101414;
  border: 1px solid #2B3035;
  color: #FFFFFF;
}
.card-header {
  background: #212529 !important; /* header */
  color: #FFFFFF !important;
  border-bottom: 1px solid #2B3035;
}

/* ปรับพื้นที่กราฟ */
.chart-wrapper { padding: 6px 8px; background: transparent; }
#chart-detail { margin-top: 2px; }
#chart-brush  { margin-top: -10px; }

/* ปรับสีไอคอน/ปุ่มบนกราฟ */
:host ::ng-deep .apexcharts-toolbar { color: #FFFFFF; }
:host ::ng-deep .apexcharts-toolbar svg { fill: currentColor !important; }

/* ป้าย/ข้อความย่อย */
.text-muted { color: #B8C0C9 !important; }


// ----------------------------------
.map-card {
  background: #101414;
  border: 1px solid #2B3035;
  border-radius: 12px;
  overflow: hidden;
  color: #fff;
}
.map-header {
  background: #212529;
  color: #fff;
  padding: 12px 16px;
  font-weight: 700;
}
.race-map {
  height: 620px;         /* ปรับสูง-ต่ำได้ */
  width: 100%;
  background: #0e1113;   /* เผื่อโหลด tile ช้า */
}

/* ให้ control ของ Leaflet กลืนธีม */
:host ::ng-deep .leaflet-control-layers,
:host ::ng-deep .leaflet-bar {
  background: #212529 !important;
  color: #fff;
  border: 1px solid #2B3035 !important;
  box-shadow: none !important;
}
:host ::ng-deep .leaflet-control-layers-expanded {
  color: #fff;
}
:host ::ng-deep .leaflet-popup-content-wrapper,
:host ::ng-deep .leaflet-popup-tip {
  background: #212529;
  color: #fff;
  border: 1px solid #2B3035;
}

/* GPS Route Map Styles */
.route-map-container {
  position: relative;
  height: 400px;
  width: 100%;

  ::ng-deep .apexcharts-canvas {
    border-radius: 8px;
  }
}


.track-image-container {
  position: relative;
  width: 100%;
  height: 600px;
  overflow: hidden;
  border-radius: 8px;

  svg {
    width: 100%;
    height: 100%;
    object-fit: contain;

    image {
      width: 100%;
      height: 100%;
    }

    rect {
      // พื้นหลังสีขาวเมื่อไม่มีรูป track
    }

    text {
      font-family: 'Arial', sans-serif;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);

      // สไตล์สำหรับข้อความแจ้งเตือน
      &[text-anchor="middle"] {
        text-shadow: none;
        font-weight: 500;
      }
    }

    polyline {
      transition: all 0.3s ease;
      filter: drop-shadow(0 2px 4px rgba(0, 123, 255, 0.3));

      &:hover {
        stroke-width: 6;
        opacity: 1;
        filter: drop-shadow(0 4px 8px rgba(0, 123, 255, 0.5));
      }
    }

    circle {
      transition: all 0.3s ease;

      &:hover {
        r: 12;
        filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
      }
    }
  }
}


/* Responsive Design */
@media (max-width: 768px) {
  .route-map-container {
    height: 300px;
  }

  .track-image-container {
    height: 400px;
  }
}

