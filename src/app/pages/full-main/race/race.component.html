<div style="margin: 20px;" class="">
  <!-- <div class="row">
    <mat-chip-set aria-label="Fish selection">
      <div class="col-6 col-lg-3">
          <mat-chip disabled style="width: auto;">Event : BANGSAEN</mat-chip>
      </div>
    </mat-chip-set>
  </div> -->

  <div class="row">
    <div class="col">
      <table class="table table-dark table-striped table-hover">
        <thead>
          <tr>
            <!-- <th class="text-center">Event</th> -->
            <th class="text-center">Category</th>
            <th class="text-center">รุ่น</th>
            <th class="text-center">Class</th>
            <th class="text-center">วันที่แข่ง</th>
            <th class="text-center">เวลาแข่งขัน</th>
            <th class="text-center w-10">สถานะการแข่ง</th>
            <th class="text-center">
              <button type="button" class="btn btn-secondary w-100" (click)="openAdd('0ms', '0ms')">เพิ่ม รายการแข่ง</button>
            </th>
          </tr>
        </thead>
        <tbody>
        @for (raceData of allRace; track raceData) {
          <tr>
            <!-- <td class="text-center">{{raceData.category_name}}</td> -->
            <td class="text-center w-25" (click)="navigateToDashboard(raceData.id_list, raceData.segment_value, raceData.class_value)">
              {{ getSessionName(raceData.session_value) }}
            </td>
            <td class="text-center" >
              {{ getRaceSegmentName(raceData.segment_value) }}
            </td>
            <td class="text-center" >
              {{ getClassName(raceData.class_value) }}
            </td>
            <!-- วันที่แข่ง -->
            <td class="text-center">
              {{ raceData.session_start | dateRange: raceData.session_end }}
            </td>

            <!-- เวลาแข่งขัน -->
            <td class="text-center">
              {{ raceData.session_start | timeRange: raceData.session_end }}
            </td>

            <td class="text-center">{{ statusOf(raceData) }}</td>
            <td class="text-center">
              <div class="row d-flex justify-content-center"
                [class.pointer-events-none]="statusOf(raceData) === RaceStatus.Finished"
                [class.opacity-50]="statusOf(raceData) === RaceStatus.Finished">
                <div class="col-2 d-flex justify-content-center">
                  @if (statusOf(raceData) !== RaceStatus.Finished) {
                    @if (statusOf(raceData) == RaceStatus.Live) {
                      <img class="me-3" style="border-radius: 0; height: 24px;" src="images/icon/icon_finish.png" (click)="openRaceEnd('0ms', '0ms', raceData.id_list, getSessionName(raceData.session_value))">
                    }
                    <img class="me-3" style="border-radius: 0; height: 24px;" src="images/icon/icon_edit.png" (click)="openEdit('0ms', '0ms', raceData.id_list)">
                    <img style="border-radius: 0; height: 24px;" src="images/icon/icon_delete.png" (click)="openRaceDelete('0ms', '0ms',  raceData.id_list)">
                  }
                </div>
              </div>
            </td>
          </tr>
        }

        </tbody>
      </table>

    </div>
  </div>
</div>
